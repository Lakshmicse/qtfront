import{P as v,r as g,X as B,j as e,_ as I,$ as O,B as n,a3 as i,cB as E,aw as h,h as x,G as s,O as r,W as A,E as w,R as P,au as T,I as R,cC as k,cD as F,Z as D,g as M,ay as G,az as C,Q as S}from"./index-CMhOF5Py.js";import{u as z,p as L}from"./APIHooks-DItCotpK.js";import"./lodash-CW1nyizk.js";const N=({settings:a,onUpdateSettings:y})=>{var j,d;const[t,o]=g.useState(!1),[l,u]=g.useState([]),p=B({accept:{"image/png":[".png",".jpeg",".jpg"]},multiple:!1,onDrop:m=>{u(m.map(c=>Object.assign(c,{preview:URL.createObjectURL(c)})))}});return g.useEffect(()=>{u([{preview:a.logo}])},[a]),e.jsx(I,{validateOnChange:!0,initialValues:a,onSubmit:(m,{setSubmitting:c,resetForm:b})=>{var f;c(!0),y("invoicing",{...m,logo:(f=l[0])==null?void 0:f.preview}),o(!1),c(!1),b()},children:e.jsxs(O,{noValidate:!0,autoComplete:"off",children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(i,{variant:"h4",children:"Invoicing Settings"}),e.jsx(i,{variant:"body1",sx:{mt:2,color:"text.secondary"},children:"Manage your invoicing settings"})]}),e.jsx(n,{children:!t&&e.jsx(E,{sx:{cursor:"pointer"},onClick:()=>o(!0)})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"General Info"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"View/Edit your general invoicing settings."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"language",variant:"outlined",sx:{width:"100%",my:2},label:"Language",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"dateFormat",variant:"outlined",sx:{width:"100%",my:2},label:"Date Format",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"currency",variant:"outlined",sx:{width:"100%",my:2},label:"Default Currency",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"decimalSeparator",variant:"outlined",sx:{width:"100%",my:2},label:"Decimal Separator",InputProps:{readOnly:!t}})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{sx:{my:1},children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Logo"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Set a logo"})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:t?e.jsxs(n,{sx:{cursor:"pointer",width:"fit-content"},...p.getRootProps({className:"dropzone"}),children:[e.jsx("input",{...p.getInputProps()}),e.jsx("img",{src:((j=l==null?void 0:l[0])==null?void 0:j.preview)||a.logo,alt:"logo",style:{width:40,height:"auto"}})]}):e.jsx("img",{src:((d=l==null?void 0:l[0])==null?void 0:d.preview)||a.logo,alt:"logo",style:{width:40,height:"auto"}})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Invoice Recipient"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Set your invoicing recipient"})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"clientName",variant:"outlined",sx:{width:"100%",my:2},label:"Client & Recipient Name",readOnly:!t})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{type:"email",name:"email",variant:"outlined",sx:{width:"100%",my:2},label:"Email",readOnly:!t})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Additional Text"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Set introduction text."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsx(x,{children:e.jsx(s,{item:!0,xs:12,children:e.jsx(r,{name:"introductionText",variant:"outlined",sx:{width:"100%",my:2},label:"Introduction Text",readOnly:!t})})})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Tax Rates"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your tax rates."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"taxType",variant:"outlined",sx:{width:"100%",my:2},label:"Tax Type",readOnly:!t})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"taxValue",variant:"outlined",sx:{width:"100%",my:2},label:"Tax Value",readOnly:!t})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"concludingText",variant:"outlined",sx:{width:"100%",my:2},label:"Concluding Text",readOnly:!t})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Payment Deadline"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Set your payment deadline"})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsx(x,{children:e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"paymentDeadline",variant:"outlined",sx:{width:"100%",my:2},label:"Payment Deadline",readOnly:!t})})})})})]}),t&&e.jsxs(A,{direction:"row",justifyContent:"flex-end",spacing:5,sx:{mt:3},children:[e.jsx(w,{sx:{color:"text.secondary"},onClick:()=>o(!1),children:"Cancel"}),e.jsx(w,{variant:"contained",color:"primary",type:"submit",children:"Save"})]})]})})};N.propTypes={settings:v.object,onUpdateSettings:v.func};const V=({settings:a,onUpdateSettings:y})=>{const[t,o]=g.useState(!1);return e.jsx(I,{validateOnChange:!0,initialValues:a,onSubmit:(l,{setSubmitting:u,resetForm:p})=>{u(!0),y("general",l),o(!1),u(!1),p()},children:e.jsxs(O,{noValidate:!0,autoComplete:"off",children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(i,{variant:"h4",children:"General Settings"}),e.jsx(i,{variant:"body1",sx:{mt:2,color:"text.secondary"},children:"Manage your general account settings"})]}),e.jsx(n,{children:!t&&e.jsx(E,{sx:{cursor:"pointer"},onClick:()=>o(!0)})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Account Info"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your account details."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"accountType",variant:"outlined",sx:{width:"100%",my:2},label:"Account type",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"agencyName",variant:"outlined",sx:{width:"100%",my:2},label:"Agency Name",InputProps:{readOnly:!t}})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"System"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your system information."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"language",variant:"outlined",sx:{width:"100%",my:2},label:"Language",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"dateFormat",variant:"outlined",sx:{width:"100%",my:2},label:"Date Format",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"currency",variant:"outlined",sx:{width:"100%",my:2},label:"Default Currency",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"decimalSeparator",variant:"outlined",sx:{width:"100%",my:2},label:"Decimal Separator",InputProps:{readOnly:!t}})})]})})})]}),e.jsxs(x,{sx:{my:1},children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Address"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your address details."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(r,{name:"street",variant:"outlined",sx:{width:"100%",my:2},label:"Street/Number",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"zipCode",variant:"outlined",sx:{width:"100%",my:2},label:"Zip Code",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"city",variant:"outlined",sx:{width:"100%",my:2},label:"City",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"state",variant:"outlined",sx:{width:"100%",my:2},label:"State",InputProps:{readOnly:!t}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"country",variant:"outlined",sx:{width:"100%",my:2},label:"Country",InputProps:{readOnly:!t}})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Contact info"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your contact details."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"phoneNumber",variant:"outlined",sx:{width:"100%",my:2},label:"Phone Number",readOnly:!t})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"alternateNumber",variant:"outlined",sx:{width:"100%",my:2},label:"Alternate Number",readOnly:!t})})]})})})]}),t&&e.jsxs(A,{direction:"row",justifyContent:"flex-end",spacing:5,sx:{mt:3},children:[e.jsx(w,{sx:{color:"text.secondary"},onClick:()=>o(!1),children:"Cancel"}),e.jsx(w,{variant:"contained",color:"primary",type:"submit",children:"Save"})]})]})})};V.propTypes={settings:v.object,onUpdateSettings:v.func};const U=({settings:a,onUpdateSettings:y})=>{const[t,o]=P.useState(!1),[l,u]=P.useState(!1),p=()=>o(c=>!c),j=()=>u(c=>!c),[d,m]=g.useState(!1);return e.jsx(I,{validateOnChange:!0,initialValues:a,onSubmit:(c,{setSubmitting:b,resetForm:f})=>{b(!0),y("accounting",c),m(!1),b(!1),f()},children:e.jsxs(O,{noValidate:!0,autoComplete:"off",children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsxs(n,{children:[e.jsx(i,{variant:"h4",children:"Accounting Settings"}),e.jsx(i,{variant:"body1",sx:{mt:2,color:"text.secondary"},children:"Manage your accounting settings"})]}),e.jsx(n,{children:!d&&e.jsx(E,{sx:{cursor:"pointer"},onClick:()=>m(!0)})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Bank Details"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"View/Edit your bank details."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"accountHolder",variant:"outlined",sx:{width:"100%",my:2},label:"Account holder",InputProps:{readOnly:!d}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"bankName",variant:"outlined",sx:{width:"100%",my:2},label:"Bank Name",InputProps:{readOnly:!d}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"countryOfBank",variant:"outlined",sx:{width:"100%",my:2},label:"Country of bank",InputProps:{readOnly:!d}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"accountNumber",variant:"outlined",sx:{width:"100%",my:2},type:t?"text":"password",label:"Account Number",InputProps:{readOnly:!d,endAdornment:e.jsx(T,{position:"end",children:e.jsx(R,{"aria-label":"toggle password visibility",onClick:p,edge:"end",children:t?e.jsx(k,{}):e.jsx(F,{})})})}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"swiftBic",variant:"outlined",sx:{width:"100%",my:2},type:l?"text":"password",label:"Account Number",InputProps:{readOnly:!d,endAdornment:e.jsx(T,{position:"end",children:e.jsx(R,{"aria-label":"toggle password visibility",onClick:j,edge:"end",children:l?e.jsx(k,{}):e.jsx(F,{})})})}})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"ifsc",variant:"outlined",sx:{width:"100%",my:2},label:"IFSC",InputProps:{readOnly:!d}})})]})})})]}),e.jsx(h,{sx:{my:4}}),e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsxs(n,{children:[e.jsx(i,{variant:"h5",children:"Taxes"}),e.jsx(i,{variant:"body1",sx:{mt:1,color:"text.secondary"},children:"Update your tax rates."})]})}),e.jsx(s,{item:!0,xs:12,md:9,children:e.jsx(n,{sx:{border:"1px solid #EAECF0",p:6,borderRadius:3,boxShadow:"0px 1px 3px rgba(16, 24, 40, 0.1), 0px 1px 2px rgba(16, 24, 40, 0.06)"},children:e.jsxs(x,{children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"taxId",variant:"outlined",sx:{width:"100%",my:2},label:"Tax ID",readOnly:!d})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(r,{name:"vatId",variant:"outlined",sx:{width:"100%",my:2},label:"VAT ID",readOnly:!d})})]})})})]}),d&&e.jsxs(A,{direction:"row",justifyContent:"flex-end",spacing:5,sx:{mt:3},children:[e.jsx(w,{sx:{color:"text.secondary"},onClick:()=>m(!1),children:"Cancel"}),e.jsx(w,{variant:"contained",color:"primary",type:"submit",children:"Save"})]})]})})};U.propTypes={settings:v.object,onUpdateSettings:v.func};const q=()=>{const[{apiData:a},{reCallAPI:y}]=z("/api/invoice/settings",{},{},!0),t=D(),o=(d,m)=>{const c={...a,[d]:m};L("/api/invoice/settings/update",t,c).then(()=>{y(),t.showMessage("Settings Updated Successfully")}).catch(b=>{t.fetchError(b.message)})},[l,u]=g.useState(0),p=(d,m)=>{u(m)},j=d=>({id:`simple-tab-${d}`,"aria-controls":`simple-tabpanel-${d}`});return e.jsxs(M,{title:"Settings",children:[e.jsxs(G,{value:l,onChange:p,sx:{"& .crMuiTab":{textTransform:"capitalize",p:0}},children:[e.jsx(C,{className:"crMuiTab",label:e.jsx(S,{id:"faq.general"}),...j(0)}),e.jsx(C,{className:"crMuiTab",label:e.jsx(S,{id:"invoice.invoicing"}),...j(1)}),e.jsx(C,{className:"crMuiTab",label:e.jsx(S,{id:"invoice.accounting"}),...j(2)})]}),(a==null?void 0:a.general)&&e.jsxs(n,{sx:{mt:4},children:[l===0&&e.jsx(V,{settings:a==null?void 0:a.general,onUpdateSettings:o}),l===1&&e.jsx(N,{settings:a==null?void 0:a.invoicing,onUpdateSettings:o}),l===2&&e.jsx(U,{settings:a==null?void 0:a.accounting,onUpdateSettings:o})]})]})};export{q as default};
