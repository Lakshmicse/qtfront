import{j as e,T as c,P as p,u as M,R,B as u,I as q,d as G,M as U,F as _,a as b,s as K,b as V,m as Q,e as W,A as J,c as X,f as Z,g as L,h as O,G as d,i as ee,k as te,S as ne,l as g,D as T,n as A,o as se,p as re,r as C,q as oe,t as ie,v as le,w as v,x as ae,H as I,y as ce,z as de,C as ue,E as w}from"./index-CMhOF5Py.js";import{A as xe,a as E,b as pe}from"./index-D33iASeW.js";import{T as me}from"./TableHeader-BUzY2eNg.js";import{A as he,T as je}from"./index-DfXYYow6.js";import{D as ge}from"./DialogTitle-B3FJ3JPu.js";import{D as Ce}from"./DialogContentText-Dg8YmZ7c.js";import"./TablePagination-BP6S6Tcb.js";const be=()=>e.jsxs(me,{children:[e.jsx(c,{children:"Product Name"}),e.jsx(c,{align:"left",children:"Product SKU"}),e.jsx(c,{align:"left",children:"Created at"}),e.jsx(c,{align:"left",children:"Status"}),e.jsx(c,{align:"left",children:"Price"}),e.jsx(c,{align:"left"})]}),D=({data:t,handleDeleteClick:r})=>{const a=M(),[s,i]=R.useState(null),n=!!s,o=x=>{i(x.currentTarget)},l=x=>{i(x.currentTarget)};return e.jsxs(u,{children:[e.jsx(q,{"aria-controls":"alpha-menu","aria-haspopup":"true",onClick:o,children:e.jsx(G,{})}),e.jsxs(U,{id:"alpha-menu",anchorEl:s,keepMounted:!0,open:n,onClose:l,TransitionComponent:_,children:[e.jsx(b,{style:{fontSize:14},onClick:()=>a("/ecommerce/orders"),children:"View Order"}),e.jsx(b,{style:{fontSize:14},onClick:()=>a(`/ecommerce/edit-products/${id}`),children:"Edit"}),e.jsx(b,{style:{fontSize:14},onClick:()=>{r(t.id)},children:"Delete"})]})]})};D.propTypes={id:p.number};const h=K(c)(()=>({fontSize:14,padding:8,"&:first-of-type":{paddingLeft:20},"&:last-of-type":{paddingRight:20}})),F=({data:t,handleDeleteClick:r})=>{var i,n;const a=M(),s=()=>{switch(t.inStock){case!0:return"#43C888";case!1:return"#F84E4E"}};return e.jsxs(V,{className:"item-hover",children:[e.jsx(h,{align:"left",sx:{width:400},children:e.jsxs(u,{sx:{display:"flex",alignItems:"center",cursor:"pointer",color:"primary.main"},onClick:()=>a(`/ecommerce/product_detail/${t==null?void 0:t.id}`),children:[e.jsx("img",{style:{width:"40px",height:"40px",objectFit:"contain",marginRight:10},src:`${Q}/product/${(n=(i=t==null?void 0:t.images)==null?void 0:i[0])==null?void 0:n.src}`,alt:"crema-logo"}),W(t.title)]})}),e.jsx(h,{align:"left",children:t.SKU}),e.jsx(h,{align:"left",children:t.createdAt}),e.jsx(h,{align:"left",children:e.jsx(u,{sx:{color:s(),backgroundColor:s()+"44",padding:"3px 5px",borderRadius:1,fontSize:14,display:"inline-block"},children:t.inStock?"In Stock":"Out of Stock"})}),e.jsxs(h,{align:"left",children:["$",t.mrp]}),e.jsx(c,{align:"right",children:e.jsx(D,{id:t.id,data:t,handleDeleteClick:r})})]},t.name)};F.propTypes={data:p.object.isRequired};const f=({productData:t,loading:r,handleDeleteClick:a})=>e.jsx(he,{children:r?e.jsx(J,{}):e.jsxs(X,{stickyHeader:!0,className:"table",children:[e.jsx(je,{children:e.jsx(be,{})}),e.jsx(Z,{children:t.map(s=>e.jsx(F,{data:s,handleDeleteClick:a},s.id))})]})});f.defaultProps={productData:[]};f.propTypes={productData:p.array,loading:p.bool};const fe=[{id:1,name:"In Stock",value:!0},{id:2,name:"Out of Stock",value:!1}],B=({filterData:t,setFilterData:r})=>{var s,i;const a=R.useRef(null);return e.jsx(L,{title:"Filter Item",children:e.jsxs(O,{spacing:5,children:[e.jsx(d,{item:!0,xs:12,children:e.jsxs(ee,{sx:{width:"100%"},variant:"outlined",children:[e.jsx(te,{ref:a,id:"demo-simple-select-outlined-label",children:"Status"}),e.jsx(ne,{label:"status",name:"status",onChange:n=>{r(o=>({...o,inStock:[n.target.value===1]}))},children:fe.map(n=>e.jsx(b,{value:n.id,sx:{cursor:"pointer",inputVariant:"outlined"},children:n.name},n.id))})]})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(g,{type:"number",onChange:n=>{r(o=>({...o,mrp:{start:+n.target.value,end:t.mrp.end}}))},sx:{width:"100%",backgroundColor:"background.paper",color:"text.primary"},variant:"outlined",label:"Start Price"})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(g,{type:"number",onChange:n=>{r(o=>({...o,mrp:{start:t.mrp.start,end:+n.target.value}}))},sx:{width:"100%",backgroundColor:"background.paper",color:"text.primary"},variant:"outlined",label:"End Price"})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(T,{label:"Creation Start Date",value:(s=t==null?void 0:t.createdAt)==null?void 0:s.start,renderInput:n=>e.jsx(g,{...n}),onChange:n=>r(o=>{var l;return{...o,createdAt:{start:A(n).format("DD MMM YYYY"),end:(l=t==null?void 0:t.createdAt)==null?void 0:l.end}}})})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(T,{label:"Creation End Date",value:(i=t==null?void 0:t.createdAt)==null?void 0:i.end,renderInput:n=>e.jsx(g,{...n}),onChange:n=>r(o=>{var l;return{...o,createdAt:{start:(l=t==null?void 0:t.createdAt)==null?void 0:l.start,end:A(n).format("DD MMM YYYY")}}})})}),e.jsxs(d,{item:!0,xs:12,children:[e.jsx(se,{value:"checkedA",inputProps:{"aria-label":"secondary checkbox"}}),e.jsx(u,{component:"span",children:"Notifications"})]})]})})};B.propTypes={filterData:p.object.isRequired,setFilterData:p.func.isRequired};const we=()=>{const{messages:t}=re(),[r,a]=C.useState({title:"",inStock:[],mrp:{start:0,end:3e4}}),s=10,[i,n]=C.useState(1),[o,l]=C.useState(!1),[x,S]=C.useState(null),{data:m,error:Se,isLoading:y,refetch:H}=oe({page:i,limit:s}),[Y]=ie();if(y)return e.jsx(e.Fragment,{children:"Loading"});m&&Math.ceil(m.totalResults/s);const P=(j,N)=>{n(N)},z=j=>{S(j),l(!0)},$=()=>{Y(x),H(),console.log(`Product with ID ${x} deleted.`),l(!1)},k=()=>{l(!1),S(null)};return e.jsxs(e.Fragment,{children:[e.jsx(u,{component:"h2",variant:"h2",sx:{fontSize:16,color:"text.primary",fontWeight:le.SEMI_BOLD,mb:{xs:2,lg:4}},children:t["sidebar.ecommerceAdmin.productListing"]}),e.jsxs(O,{spacing:7,children:[e.jsx(v,{direction:"right",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e.jsx(d,{item:!0,xs:12,lg:9,children:e.jsxs(L,{title:e.jsx(xe,{children:e.jsxs(u,{display:"flex",flexDirection:"row",alignItems:"center",width:1,justifyContent:"space-between",children:[e.jsx(ae,{iconPosition:"right",overlap:!1,onChange:j=>searchProduct(j.target.value),placeholder:t["common.searchHere"]}),e.jsx(u,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",children:e.jsx(I,{smDown:!0,children:e.jsx(E,{rowsPerPage:10,count:m.totalResults,page:i,onPageChange:P})})})]})}),headerStyle:{p:0},contentStyle:{p:0},children:[e.jsx(pe,{sx:{paddingTop:2.5,paddingBottom:2.5},children:e.jsx(f,{productData:m.products||[],loading:y,handleDeleteClick:z})}),e.jsx(I,{smUp:!0,children:e.jsx(E,{rowsPerPage:10,count:m.products.totalResults,page:i,onPageChange:P})})]})})}),e.jsx(v,{direction:"left",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:e.jsx(d,{item:!0,xs:12,lg:3,children:e.jsx(B,{filterData:r,setFilterData:a})})})]}),e.jsxs(ce,{open:o,onClose:k,children:[e.jsx(ge,{children:t["common.deleteConfirmation"]}),e.jsx(de,{children:e.jsx(Ce,{children:t["common.deleteConfirmationMessage"]})}),e.jsxs(ue,{children:[e.jsx(w,{onClick:k,color:"primary",children:t["common.cancel"]}),e.jsx(w,{onClick:$,color:"secondary",children:t["common.delete"]})]})]})]})};export{we as default};
