import{j as e,T as n,u as S,R as P,B as i,I as w,d as I,M as k,F as B,a as m,s as D,P as h,b as E,A as H,c as R,f as v,p as z,r as x,x as L,H as f}from"./index-CMhOF5Py.js";import{A as M}from"./index-D0iKFXRu.js";import{A as N,a as b,b as O}from"./index-D33iASeW.js";import{u as F}from"./APIHooks-DItCotpK.js";import{T as Q}from"./TableHeader-BUzY2eNg.js";import{d as V}from"./StarRate-KIhUL6rC.js";import{A as W,T as _}from"./index-DfXYYow6.js";import"./index-C7AOGOI5.js";import"./TablePagination-BP6S6Tcb.js";import"./lodash-CW1nyizk.js";const $=()=>e.jsxs(Q,{children:[e.jsx(n,{align:"left",children:"Name"}),e.jsx(n,{align:"left",children:"Email"}),e.jsx(n,{align:"left",children:"Last Item"}),e.jsx(n,{align:"left",children:"Last Order"}),e.jsx(n,{align:"left",children:"Rating"}),e.jsx(n,{align:"left",children:"Wallet Balance"}),e.jsx(n,{align:"right",children:"Address"}),e.jsx(n,{align:"right",children:"Join Date"}),e.jsx(n,{align:"right",children:"Action"})]}),q=()=>{const s=S(),[t,a]=P.useState(null),c=!!t,d=o=>{a(o.currentTarget)},l=()=>{a(null)};return e.jsxs(i,{children:[e.jsx(w,{"aria-controls":"alpha-menu","aria-haspopup":"true",onClick:d,children:e.jsx(I,{})}),e.jsxs(k,{id:"alpha-menu",anchorEl:t,keepMounted:!0,open:c,onClose:l,TransitionComponent:B,children:[e.jsx(m,{style:{fontSize:14},onClick:()=>s("/ecommerce/orders"),children:"View Order"}),e.jsx(m,{style:{fontSize:14},onClick:l,children:"Edit"}),e.jsx(m,{style:{fontSize:14},onClick:l,children:"Delete"})]})]})},r=D(n)(()=>({fontSize:14,padding:8,"&:first-of-type":{paddingLeft:20},"&:last-of-type":{paddingRight:20}})),y=({data:s})=>e.jsxs(E,{className:"item-hover",children:[e.jsx(r,{component:"th",scope:"row",children:e.jsx(i,{sx:{color:"primary.main",borderBottom:t=>`1px solid ${t.palette.primary.main}`,display:"inline-block"},children:s.name})}),e.jsx(r,{align:"left",children:s.email}),e.jsx(r,{align:"left",children:s.lastItem}),e.jsx(r,{align:"left",children:s.lastOrder}),e.jsx(r,{align:"left",children:e.jsxs(i,{component:"span",sx:{color:"white",backgroundColor:"#388E3C",maxWidth:55,mr:2,px:3,pt:.5,pb:1,display:"flex",alignItems:"center",borderRadius:10,fontSize:12},children:[s.rating," ",e.jsx(V,{style:{fontSize:16}})]})}),e.jsx(r,{align:"left",children:s.balance}),e.jsx(r,{align:"left",children:s.address}),e.jsx(r,{align:"left",children:s.joinDate}),e.jsx(r,{align:"right",children:e.jsx(q,{})})]},s.name);y.propTypes={data:h.object.isRequired};const u=({customers:s,loading:t})=>e.jsx(W,{children:t?e.jsx(H,{}):e.jsxs(R,{stickyHeader:!0,className:"table",children:[e.jsx(_,{children:e.jsx($,{})}),e.jsx(v,{children:s.map(a=>e.jsx(y,{data:a},a.id))})]})});u.defaultProps={customers:[]};u.propTypes={customers:h.array,loading:h.bool};const re=()=>{const{messages:s}=z(),[{apiData:{customers:t,customerCount:a},loading:c},{setQueryParams:d}]=F("/api/ecommerce/customers",{},{},!1),[l,o]=x.useState(0),[j,C]=x.useState(""),g=(p,A)=>{o(A)};x.useEffect(()=>{d({search:j,page:l})},[j,l]);const T=p=>{C(p.target.value),console.log("onSearchCustomer: ",p.target.value),o(0)};return e.jsxs(M,{title:s["sidebar.ecommerce.customers"],fullView:!0,children:[e.jsx(N,{children:e.jsxs(i,{sx:{display:"flex",flexDirection:"row",alignItems:"center",width:1},children:[e.jsx(L,{iconPosition:"right",overlap:!1,onChange:T,placeholder:s["common.searchHere"]}),e.jsx(i,{sx:{display:"flex",flexDirection:"row",alignItems:"center",ml:"auto"},children:e.jsx(f,{smDown:!0,children:e.jsx(b,{rowsPerPage:10,count:a,page:l,onPageChange:g})})})]})}),e.jsx(O,{sx:{paddingTop:2.5,paddingBottom:2.5},children:e.jsx(u,{customers:t,loading:c})}),e.jsx(f,{smUp:!0,children:e.jsx(b,{rowsPerPage:10,count:a,page:l,onPageChange:g})})]})};export{re as default};
