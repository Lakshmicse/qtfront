import{P as r,j as e,B as i,ai as M,a3 as l,v as a,aY as k,aZ as w,a_ as E,ak as f,E as h,a$ as R,aa as F,b0 as P,b1 as _,$,h as y,G as x,O as p,Q as o,a5 as U,a6 as j,b2 as q,r as u,g as G,_ as H,b3 as N,n as Q,J as S,A as B,K as J}from"./index-CMhOF5Py.js";import{u as I,i as C}from"./APIHooks-DItCotpK.js";import{T as K,B as V,a as Y}from"./index-Cb8Yzp5a.js";import{b as Z}from"./index.esm-CLKGCbBe.js";import{c as X}from"./index.esm-CGooTZSk.js";import{A as ee}from"./AppCardMedia-P2PjvDU7.js";import"./lodash-CW1nyizk.js";import"./index-B7z_1AZd.js";import"./CardMedia-rdFdtSDt.js";const te="/assets/images/extra-pages/blog/blog-detail-header.png",D=({children:s})=>e.jsx(i,{sx:{backgroundImage:`url(${te})`,backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",position:"relative",minHeight:340,color:t=>t.palette.common.white,borderRadius:t=>t.cardRadius/4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:5,"&:before":{content:'""',position:"absolute",left:0,top:0,zIndex:1,width:"100%",height:"100%",backgroundColor:t=>M(t.palette.common.black,.3),borderRadius:"inherit"},"& > *":{position:"relative",zIndex:3}},children:s});D.propTypes={children:r.node};const se=s=>{switch(s){case"BiUserCircle":return e.jsx(E,{});case"AiOutlineCalendar":return e.jsx(w,{});default:return e.jsx(k,{})}},v=({title:s,blogDetailHeader:t})=>e.jsx(D,{children:e.jsxs(i,{sx:{maxWidth:650,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx(l,{component:"h2",sx:{mb:{xs:5,md:7.5},fontWeight:a.SEMI_BOLD,fontSize:{xs:24,sm:26,md:28,lg:30}},children:s}),e.jsx(i,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",mx:{xs:-2,md:-4}},children:t==null?void 0:t.map((n,m)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",px:{xs:2,md:4},mb:2,fontSize:14,fontWeight:a.MEDIUM},children:[e.jsx(i,{sx:{fontSize:16,mt:1,mr:2},children:se(n.icon)}),e.jsx(i,{component:"span",children:n.title})]},m))})]})});v.propTypes={title:r.string,blogDetailHeader:r.array};const A=({post:s})=>e.jsxs(i,{sx:{display:"flex",border:t=>`solid 1px ${t.palette.divider}`,borderRadius:1,py:{xs:5,lg:7.5},pr:{xs:5,lg:7.5},pl:{xs:5,lg:7.5,xl:15}},children:[e.jsxs(i,{sx:{mr:{xs:5,md:7.5,xl:15},minWidth:80,textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(i,{sx:{mb:{xs:2,md:4}},children:e.jsx(f,{sx:{width:{xs:40,md:60,lg:80},height:{xs:40,md:60,lg:80}},src:s.user})}),e.jsx(l,{sx:{fontSize:16,fontWeight:a.SEMI_BOLD,color:t=>t.palette.text.primary,mb:1},component:"h6",children:s.userName}),e.jsx(l,{sx:{fontSize:12,color:t=>t.palette.text.secondary},children:s.userPosition})]}),e.jsxs(i,{sx:{color:t=>t.palette.text.secondary},children:[e.jsx(l,{sx:{mb:3},children:s.description}),e.jsx(h,{variant:"text",sx:{fontSize:14,fontWeight:a.SEMI_BOLD,color:t=>t.palette.text.primary,textDecoration:"underline",textTransform:"uppercase",boxShadow:"none"},children:"All author posts"})]})]});A.propTypes={post:r.object};const g=[{id:1,icon:e.jsx(Z,{})},{id:2,icon:e.jsx(R,{})},{id:3,icon:e.jsx(F,{})},{id:4,icon:e.jsx(P,{})},{id:5,icon:e.jsx(X,{})}],ie=()=>e.jsx(i,{sx:{display:"flex",alignItems:"center",mx:{xs:-2,md:-4}},children:g==null?void 0:g.map((s,t)=>e.jsx(i,{sx:{px:{xs:2,md:4},color:n=>n.palette.text.primary},children:e.jsx(i,{component:"span",sx:{cursor:"pointer","& svg":{fontSize:20}},children:s.icon})},t))}),T=({blogDetailContent:s})=>e.jsxs(ee,{sxStyle:{color:t=>t.palette.text.secondary,mb:{xs:5,md:7.5}},cardMedia:s.cardMedia,children:[e.jsx(l,{sx:{mb:7.5},children:s.description}),e.jsx(i,{children:e.jsx("div",{dangerouslySetInnerHTML:{__html:`${s.content}`}})}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3.5},children:[e.jsx(i,{sx:{mb:2},children:e.jsx(K,{tag:s.tag})}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",ml:2,mb:3.5,color:t=>t.palette.error.light,border:t=>`solid 1px ${t.palette.error.light}`,borderRadius:1,py:1.5,px:3,fontSize:12,fontWeight:a.SEMI_BOLD,cursor:"pointer","& svg":{mr:1,display:"block",mt:1}},children:[e.jsx(_,{})," ",s.likeCount," Likes"]})]}),e.jsx(i,{sx:{mb:{xs:5,sm:7,md:10,lg:15}},children:e.jsx(A,{post:s.post})}),e.jsx(i,{sx:{mb:{xs:2,sm:4,md:8,lg:10},display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(ie,{})})]});T.propTypes={blogDetailContent:r.object};const ne=()=>e.jsx($,{autoComplete:"off",children:e.jsxs(y,{spacing:4,children:[e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(p,{fullWidth:!0,name:"name",label:e.jsx(o,{id:"common.fullName"})})}),e.jsx(x,{item:!0,xs:12,md:6,children:e.jsx(p,{name:"email",fullWidth:!0,label:e.jsx(o,{id:"common.email"})})}),e.jsx(x,{item:!0,xs:12,md:12,children:e.jsx(p,{name:"comment",fullWidth:!0,multiline:!0,rows:"3",variant:"outlined",label:e.jsx(o,{id:"common.comments"})})}),e.jsx(x,{item:!0,xs:12,md:12,children:e.jsx(h,{sx:{position:"relative",minWidth:100},color:"primary",variant:"contained",type:"submit",children:e.jsx(o,{id:"common.postComment"})})})]})}),W=({comment:s})=>e.jsxs(i,{sx:{display:"flex"},children:[e.jsx(i,{sx:{mr:4},children:e.jsx(f,{sx:{width:{md:50},height:{md:50}},src:s.image,alt:s.name})}),e.jsxs(i,{sx:{flex:1},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:{xs:2,md:3}},children:[e.jsxs(i,{sx:{flex:1},children:[e.jsx(l,{component:"h5",sx:{fontSize:16,fontWeight:a.SEMI_BOLD,mb:.5},children:s.name}),e.jsx(i,{component:"span",sx:{fontSize:11,fontWeight:a.MEDIUM,color:t=>t.palette.text.secondary},children:s.duration})]}),e.jsx(i,{sx:{ml:2},children:e.jsx(h,{variant:"outlined",sx:{textTransform:"uppercase",pt:.25,pb:.75},children:e.jsx(o,{id:"common.reply"})})})]}),e.jsx(l,{sx:{color:t=>t.palette.text.secondary},children:s.comment})]})]});W.propTypes={comment:r.object};const z=({comments:s})=>e.jsxs(i,{sx:{borderBottom:t=>`solid 1px ${t.palette.divider}`,mb:7.5,pb:7.5},children:[e.jsxs(l,{component:"h3",sx:{mb:7.5,fontSize:{xs:18,md:20},fontWeight:a.BOLD},children:[s.length," ",e.jsx(o,{id:"common.comments"})]}),e.jsx(i,{sx:{"& .blog-comment-item":{"&:not(:last-of-type)":{mb:7.5}}},children:s.map((t,n)=>e.jsx(i,{className:"blog-comment-item",children:e.jsx(W,{comment:t})},n))})]});z.propTypes={comments:r.array};const oe=U({name:j().required(e.jsx(o,{id:"validation.nameRequired"})),email:j().email(e.jsx(o,{id:"validation.emailFormat"})).required(e.jsx(o,{id:"validation.emailRequired"})),comment:j().required(e.jsx(o,{id:"validation.comment"}))}),O=({comment:s})=>{const t=q(),[n,m]=u.useState(s),L=d=>{const c={id:N(),name:d.name,image:t.photoURL,duration:Q().format("ll"),comment:d.comment},b=n.concat(c);m(b),console.log("newList",b)};return e.jsxs(G,{children:[e.jsx(z,{comments:n}),e.jsxs(i,{sx:{position:"relative"},children:[e.jsx(l,{component:"h3",sx:{mb:7.5,fontSize:{xs:18,md:20},fontWeight:a.BOLD},children:e.jsx(o,{id:"extraPages.writeComments"})}),e.jsx(H,{validateOnChange:!1,validateOnBlur:!0,initialValues:{name:"",email:"",comment:""},validationSchema:oe,onSubmit:(d,{resetForm:c})=>{L(d),c()},children:e.jsx(ne,{})})]})]})};O.propTypes={comment:r.array};const re=()=>{const{id:s}=S(),[{apiData:t,loading:n},{setQueryParams:m}]=I("/pages/blogs/detail",{},{id:s},!1);return u.useEffect(()=>{m({id:s})},[s]),n?e.jsx(B,{}):!C(t==null?void 0:t.blogDetail)&&e.jsx(J,{animation:"transition.slideUpIn",delay:200,children:e.jsxs(y,{children:[e.jsx(x,{item:!0,xs:12,children:e.jsx(v,{title:t.blogDetail.blogDetailContent.title,blogDetailHeader:t.blogDetail.blogDetailHeader})}),e.jsx(x,{item:!0,xs:12,md:4,lg:4,xl:3,sx:{order:{md:2},position:{md:"sticky"},top:{md:70},bottom:{md:0},zIndex:2,alignSelf:{md:"flex-start"}},children:e.jsx(Y,{blogSidebar:t.blogSidebar})}),e.jsxs(x,{item:!0,xs:12,md:8,lg:8,xl:9,sx:{order:{md:1}},children:[e.jsx(T,{blogDetailContent:t.blogDetail.blogDetailContent}),e.jsx(O,{comment:t.blogDetail.blogComment})]})]})})};V.propTypes={blogSidebar:r.object.isRequired,blogDetail:r.object};const he=()=>{const{id:s}=S(),[{apiData:t,loading:n},{setQueryParams:m}]=I("/pages/blogs/detail",{},{id:s},!1);return u.useEffect(()=>{m({id:s})},[s]),n?e.jsx(B,{}):!C(t==null?void 0:t.blogDetail)&&e.jsx(re,{blogSidebar:t.blogSidebar,blogDetail:t.blogDetail})};export{he as default};
